# 计算机图形学应用程序

## 项目简介

这是一个基于MFC和OpenGL的计算机图形学应用程序，实现了各种2D/3D图形渲染和交互功能。项目整合了多种计算机图形学算法和技术，主要用于计算机图形学教学和实验。

## 系统环境

- 操作系统：Windows 10及以上
- 开发工具：Visual Studio（支持MFC）
- 依赖库：OpenGL、GLFW

## 项目结构

项目采用MFC文档/视图架构，主要组件包括：

- **主框架**：`CMainFrame` - 实现应用程序的主窗口框架和分割窗口
- **文档类**：`CCG2022111073冯杰Doc` - 管理场景数据和渲染操作
- **视图类**：
  - `CCG2022111073冯杰View` - 主渲染视图，集成了OpenGL渲染环境
  - `CCGSceneGraphView` - 场景图视图，用于场景层次结构的显示和管理

### 核心模块

- **渲染上下文**：`CCGRenderContext` - 封装OpenGL渲染功能
- **场景管理**：`CGScene` - 管理渲染场景和相机
- **几何对象**：
  - `CGNode` - 场景节点基类
  - `CGGroup` - 组合节点
  - `CGGeode` - 几何节点
  - `CGGeometry` - 几何图元基类
  - `CGLineSegment` - 线段
  - `CGPolylineSegment` - 折线段

- **交互处理**：`UIEventHandler` - 处理用户输入事件

## 功能特性

### 基础图形绘制

- 点、线、面的绘制
- 基本几何形状（圆、多边形等）

### 图形算法实现

- 直线绘制算法：
  - DDA算法
  - 中点算法（Midpoint）
  - Bresenham算法
- 圆绘制算法：
  - 中点圆算法
  - Bresenham圆算法
- 填充算法：
  - 扫描线填充算法
  - 种子填充算法

### 用户交互

- 鼠标交互绘制直线、多边形
- 状态栏显示坐标和提示信息
- 视图窗口缩放和调整

## 使用方法

1. **启动应用程序**：运行可执行文件`CG2022111073冯杰.exe`
2. **绘制图形**：
   - 在菜单或工具栏中选择绘制工具
   - 在视图窗口中点击和拖动鼠标进行绘制
3. **查看场景结构**：在左侧场景图视图中可以查看当前场景的节点结构
4. **交互操作**：
   - 使用鼠标左键选择和绘制
   - 使用鼠标右键显示上下文菜单
   - 状态栏显示当前坐标和操作提示

## 开发说明

### 扩展新功能

要添加新的绘图功能，请遵循以下步骤：

1. 创建新的几何图元类，继承自`CGGeometry`
2. 实现绘制算法和交互处理
3. 在UI中添加对应的命令和菜单项
4. 在文档类中处理新命令

### 编译构建

1. 使用Visual Studio打开解决方案文件`CG2022111073冯杰.sln`
2. 确保已安装MFC开发环境
3. 构建解决方案（推荐x64平台）

## 注意事项

- 应用程序依赖OpenGL和GLFW库，确保系统中已正确安装
- 部分高级功能可能需要支持OpenGL 3.3及以上版本的显卡
- 使用中如遇到渲染问题，请检查图形驱动程序是否最新

## 致谢

- OpenGL社区
- GLFW项目
- Microsoft MFC框架 